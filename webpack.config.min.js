var webpack = require("webpack"), config = require('./webpack.config');

config.output.libraryTarget = "umd";
config.output.library = "React";

config.plugins.push(new webpack.optimize.UglifyJsPlugin());

config.plugins.push(
  new webpack.BannerPlugin([
    "/**",
    " * MuLetter",
    " *",
    " *",
    " * This source code is licensed under the GPL-3.0 license found in the",
    " * LICENSE file in the root directory of this source tree.",
    " *",
    " */"
  ].join("\n"), { raw: true })
);

config.plugins.push(
  new webpack.DefinePlugin({
    "process.env": {
      NODE_ENV: JSON.stringify("production")
    }
  })
);

module.exports = config;
